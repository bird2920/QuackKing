<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XPPV262EE1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XPPV262EE1');
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/FavoriteDuck.svg" />
    <title>QuackKing - Multiplayer Trivia</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module">
      // Inject globals before bundle loads; hosting can override these if provided earlier.
      const env = import.meta.env || {};

      if (typeof window.__app_id === "undefined") {
        window.__app_id = env.VITE_APP_ID || "default-app-id";
      }

      if (typeof window.__firebase_config === "undefined") {
        window.__firebase_config = JSON.stringify({
          apiKey: env.VITE_FIREBASE_API_KEY || "",
          authDomain: env.VITE_FIREBASE_AUTH_DOMAIN || "",
          projectId: env.VITE_FIREBASE_PROJECT_ID || "",
          storageBucket: env.VITE_FIREBASE_STORAGE_BUCKET || "",
          messagingSenderId: env.VITE_FIREBASE_MESSAGING_SENDER_ID || "",
          appId: env.VITE_FIREBASE_APP_ID || "",
        });
      }

      if (typeof window.__initial_auth_token === "undefined") {
        window.__initial_auth_token = null;
      }

      if (typeof window.GEMINI_API_KEY === "undefined") {
        window.GEMINI_API_KEY = env.VITE_GEMINI_API_KEY || "";
      }
    </script>
    <script type="module" src="/main.jsx"></script>
  </body>
</html>
